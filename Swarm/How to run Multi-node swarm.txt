- First go to play-with-docker and create let s say 3 instance.
- then go to terminal to ssh into instances
- ​C:\Users\HIDIR
λ  ssh -i C:\Users\HIDIR\Desktop\EC2tutorial.pem 
ip172-18-0-87-c09ce8r6hnp000cofm80@direct.labs.play-with-docker.com 

- we open 2 more new console dialog and ssh into other instances same way.

- then docker swarm init --advertise-addr 192.168.0.23 (add the ip address of instance)
- then copy the token comes after command
  docker swarm join --token SWMTKN-1-5mwtggo94qw9ptl68tlzpbf4dqoe46ds9juwqrwyg2tda17kwn-f40lh6wohw7c0n6sfbi6wtacy 192.168.0.23:2377
 
and paste it onto other 2 terminals. that will make them worker while the first
one is manager.

- docker node -ls  ( we will see 3 nodes)
- $ docker node update --role manager node2 to make 2. node manager as well

- $ docker node update --role manager node3 to make 3. node manager as well

- $ docker swarm join-token manager                        
To add a manager to this swarm, run the following command
                                                         
    docker swarm join --token SWMTKN-1-5mwtggo94qw9ptl68t
yg2tda17kwn-eov20wguvbb5zaudv1b7u2zab 192.168.0.23:2377  

- $ docker service create --replicas 3  alpine ping 8.8.8.8
mge3xh9tgn9wr1l0blv1wn5ao
-  docker service ls
ID             NAME                MODE         REPLICAS   IMAGE           PORTS
mge3xh9tgn9w   distracted_fermat   replicated   3/3        alpine:latest

- $ docker service ps distracted_fermat
ID             NAME                  IMAGE           NODE      DESIRED STATE
 CURRENT STATE           ERROR     PORTS
nr85plno0evm   distracted_fermat.1   alpine:latest   node2     Running
 Running 4 minutes ago
t33us04qpm72   distracted_fermat.2   alpine:latest   node1     Running
 Running 4 minutes ago
kyrqbh7xndpj   distracted_fermat.3   alpine:latest   node3     Running
 Running 4 minutes ago
